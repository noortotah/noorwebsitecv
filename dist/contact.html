
<!DOCTYPE html>
<html>
  <head>
    <title>Noor Totah | Contact
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link href="images/favicon.png" rel="icon" type="image/png">
  <link href="/css/index.css" rel="stylesheet"></head>
  <body class="is-white">
    <nav id="navbar" class="navbar is-transparent is-planner">
      <div class="container">
        <div class="navbar-brand"><a class="navbar-item" href="/">
          
        </div>
        <div class="navbar-menu" id="navMenu">
          <div class="navbar-end">
            <div class="navbar-item">
              <p class="buttons">
              
              	<a class="button is-medium tooltip is-tooltip-bottom" data-tooltip="Close" href="/"><span class="icon is-small"><i class="fas fa-times"></i></span></a></p>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <div id="form-page" class="is-form-page">
      <section class="is-white has-text-centered">
        <div class="container">
          <div class="columns is-centered">
            <div class="column is-three-quarters"><img class="avatar" src="/images/4fc41cc2fff37a03bf9e0c97d592e755.svg">
              <h1 class="title is-spaced is-size-1-desktop is-size-2-tablet is-size-3-mobile">Thanks for taking the time to reach out. How can I help you today?</h1>
            </div>
          </div>
        </div>
      </section>
      <section class="is-white">

        <div class="container mt-6">
          <div id="notification" class="notification is-success hidden">
            <button class="delete"></button>
              Your Message has been Submitted!
          </div>

          <form id="contact-form" accept-charset="UTF-8" class="">
            <div class="columns is-centered">
              <div class="column is-half">
                <div class="field">
                  <label class="label">Name</label>
                  <div class="control is-expanded">
                    <input id="name" class="input is-large" name="name" type="text" required>
                  </div>
                </div>
              </div>
              <div class="column is-half">
                <div class="field">
                  <label class="label">Email</label>
                  <div class="control is-expanded">
                    <input id="email" class="input is-large" name="email" type="email" required>
                  </div>
                </div>
              </div>
            </div>
            <div class="columns is-centered">
              <div class="column">
                <div class="field">
                  <label class="label">Message</label>
                  <div class="control is-expanded">
                    <textarea id="message" class="textarea is-large" name="message" rows="5" required></textarea>
                  </div>
                </div>
               
              </div>
            </div>
            <div class="columns is-centered">
              <div class="column is-one-third">
                <div class="field">
                  <div class="control">
                    <button id="form-submit" class="button is-primary is-outlined is-medium is-fullwidth is-rounded">Submit</button>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </section>
    </div>
    <script>


      document.getElementById("form-submit").addEventListener("click", function(event){
        event.preventDefault();


        const form = {
          name: document.getElementById("name").value,
          email: document.getElementById("email").value,
          message: document.getElementById("message").value
        }
        fetch('/send', {
          method: 'POST',
          body: JSON.stringify(form),
          headers: {
            'Content-Type': 'application/json'
          }
        })
        .then( response => {
          console.log(response)
          if(response.status == 200){
            var element = document.getElementById("contact-form");
          var notification = document.getElementById("notification");
          

          if (element.classList.contains('hidden')) {
              
              notification.classList.remove('show');
              setTimeout(function () {
              }, 20);
          } else {
              notification.classList.add('show');
              element.classList.add('hidden');
          }

          setTimeout(function () {
                element.reset();
                element.classList.remove('hidden');
                notification.classList.remove('show');

          }, 2000);
          }
        })
        .catch( err => console.log('here',err ))

      });
      
    </script>
    <script src="/bundle.js"></script></body>
</html>